{
  "version": "1.0",                            // 결과 포맷 버전
  "pipeline": "librosa(HPSS/normalize/trim) + madmom + Essentia + meter-phase-search",
                                              // 어떤 처리 파이프라인으로 만들었는지 기록

  "audio": {
    "title": "김봉준_고향의봄 (1).mp3",        // 분석한 원본 파일명
    "durationSec": 89.67836734693877,          // 오디오 총 길이(초)
    "sampleRate": 44100                        // 샘플레이트(Hz) -> (1초에 몇번의 소리를 측정하는지)
  },

  "engine": {
    "chosen": "AI(Essentia)",                  // 최종 채택된 엔진 (AI가 우선, 불안정하면 madmom 폴백)
    "ai_conf_mean": 3.005746364593506,         // Essentia가 뱉은 평균 confidence(상대지표, 2.0을 기준으로 높을수록 좋음)
    "quality": {
      "madmom": 0.9664645180911522,            // madmom 비트열의 품질 점수(IBI 안정성+온셋 정합 등)
      "ai": 0.9577114771207288                 // AI 비트열의 품질 점수(같은 기준으로 환산)
    }
    // 참고: 선택 로직은 단순 점수비교가 아니라
    //  1) ai_conf_mean 임계치 통과
    //  2) ai 품질 임계치 통과
    //  3) 두 엔진 비트 개수 유사(count_close)
    // 를 모두 만족하면 AI 우선 채택 → 이후 안정성 점검에 실패하면 madmom(fallback)
  },

  "tempoMap": [
    {
      "t": 0.0,                                // 이 시점(초)부터 해당 BPM을 적용
      "bpm": 116.60169219970703                // 최종 BPM (IBI/모델 일관성 체크 후 기록)
    }
  ],
  // 여러 구간에서 템포가 바뀌면 항목이 추가될 수 있음(예: ritardando 구간 등)

  "timeSignatures": [
    {
      "t": 2.8792742859154874,                 // 이 시점(초)부터 아래 박자표를 적용
      "num": 4,                                // 마디당 박 수 (분자)
      "den": 4                                 // 한 박의 음표 단위 (분모) → 4/4 박자
    }
  ],
  // t가 0이 아닌 이유: 0~2.879s 구간은 무음·전주·픽업 등으로 간주되고,
  // 그 이후부터 4/4로 마디를 정렬한다는 뜻(초반을 pickup으로 해석 가능)

  "beats": [
    {
      "i": 1,                                  // 전체 비트 인덱스(1부터)
      "bar": 1,                                // 마디 번호(1부터). timeSignature 기준 위상 정렬 결과
      "beat": 1,                               // 마디 내 박 번호(1..num)
      "t": 1.3119274150162867                  // 이 비트의 절대 시간(초)
    },
    {
      "i": 2,
      "bar": 1,
      "beat": 2,
      "t": 1.8575963150292567
    },
    {
      "i": 3,
      "bar": 1,
      "beat": 3,
      "t": 2.380045331600302
    }
    // ...
  ]
}
